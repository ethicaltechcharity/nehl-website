
{% extends 'nehlwebsite/base.html' %}

{% load static %}
{% load crispy_forms_tags %}
{% load crispy_forms_field %}

{% block css %}

    <link rel="stylesheet" type="text/css" href="{% static 'fixtures/style.css' %}">
    <link href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css" rel="stylesheet" />
    <style>
    .select2-selection__rendered {
        line-height: 33px !important;
    }
    .select2-container .select2-selection--single {
        height: 38px !important;
    }
    .select2-selection__arrow {
        height: 38px !important;
    }
    </style>

{% endblock %}

{% block content %}

    <div class="container">

        <div class="jumbotron">
            <h1 class="display-4">Select Squad</h1>
        </div>

        {% for form in formset %}

            <div class="btn-group-toggle" data-toggle="buttons">
                <label for="{{ form.is_registered.html_name }}" id="{{ form.is_registered.id_for_label }}"
                       class="btn btn-sm btn-secondary active">
                    <input type="checkbox" name="{{ form.is_registered.html_name }}" checked> {{ form.is_registered.label }}
                </label>
            </div>

            {{ form.member|as_crispy_field }}

        {% endfor %}

    </div>

{% endblock %}

{% block scripts %}
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.min.js" ></script>
    <script>
    $('.heavyselect2widget').select2({
      ajax: {
        url: '{% url 'clubs:api-members-list' club_id %}',
        data: function (params) {
          var query = {
            search: params.term,
            format: 'json'
          };
          return query;
        }
      }
    });
    </script>
{% endblock %}

